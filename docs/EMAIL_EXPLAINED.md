# üìß –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω SMTP?

## ü§î –í–∞—à –≤–æ–ø—Ä–æ—Å

> "–ü–æ—á–µ–º—É —è –¥–æ–ª–∂–µ–Ω —á—Ç–æ-—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å? –†–∞–∑–≤–µ —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç —Å–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∏—Å—å–º–∞?"

## ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–î–∞, —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∏—Å—å–º–∞ —Å–∞–º.** –ù–û –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ —Å–ø–∞–º –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –¥–æ–π–¥—É—Ç.

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –î–æ—Å—Ç–∞–≤–∫–∞ | –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ |
|-------|-----------|----------|---------------|
| **PHP mail()** | –ù–µ –Ω—É–∂–Ω–∞ | ‚ùå –°–ø–∞–º | ‚ùå –ù–µ—Ç |
| **SMTP (Gmail/Mail.ru)** | 5 –º–∏–Ω—É—Ç | ‚úÖ –î–æ—Ö–æ–¥–∏—Ç | ‚úÖ –î–∞ |
| **Resend API** | 2 –º–∏–Ω—É—Ç—ã | ‚úÖ –î–æ—Ö–æ–¥–∏—Ç | ‚úÖ –î–∞ |
| **–°–≤–æ–π –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä** | –ù–µ–¥–µ–ª–∏ | ‚úÖ –î–æ—Ö–æ–¥–∏—Ç | ‚úÖ –î–∞ (—Å–ª–æ–∂–Ω–æ) |

## üîç –ü–æ—á–µ–º—É –ø–∏—Å—å–º–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ø–∞–º?

–ö–æ–≥–¥–∞ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –ø–∏—Å—å–º–æ –Ω–∞–ø—Ä—è–º—É—é —Å —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ—á—Ç–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:

### 1. SPF –∑–∞–ø–∏—Å—å (Sender Policy Framework)
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: "–†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ —ç—Ç–æ–º—É IP –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∏—Å—å–º–∞ –æ—Ç —ç—Ç–æ–≥–æ –¥–æ–º–µ–Ω–∞?"
–í–∞—à —Å–µ—Ä–≤–µ—Ä: ‚ùå –ù–µ—Ç SPF –∑–∞–ø–∏—Å–∏
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚Üí –°–ü–ê–ú
```

### 2. DKIM –ø–æ–¥–ø–∏—Å—å (DomainKeys Identified Mail)
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: "–ü–æ–¥–ø–∏—Å–∞–Ω–æ –ª–∏ –ø–∏—Å—å–º–æ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏?"
–í–∞—à —Å–µ—Ä–≤–µ—Ä: ‚ùå –ù–µ—Ç DKIM
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚Üí –°–ü–ê–ú
```

### 3. DMARC –ø–æ–ª–∏—Ç–∏–∫–∞
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ SPF/DKIM –Ω–µ –ø—Ä–æ—à–ª–∏?"
–í–∞—à —Å–µ—Ä–≤–µ—Ä: ‚ùå –ù–µ—Ç DMARC
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚Üí –°–ü–ê–ú –∏–ª–∏ –û–¢–ö–õ–û–ù–ï–ù–û
```

### 4. –†–µ–ø—É—Ç–∞—Ü–∏—è IP
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: "–≠—Ç–æ—Ç IP —Ä–∞–Ω—å—à–µ —Å–ø–∞–º–∏–ª?"
–í–∞—à —Å–µ—Ä–≤–µ—Ä: ‚ùå –ù–æ–≤—ã–π IP –±–µ–∑ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚Üí –°–ü–ê–ú
```

### 5. Reverse DNS
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: "IP —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–º–µ–Ω—É?"
–í–∞—à —Å–µ—Ä–≤–µ—Ä: ‚ùå –ù–µ—Ç reverse DNS
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚Üí –û–¢–ö–õ–û–ù–ï–ù–û
```

## üí° –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ—á—Ç—É (–ü–†–û–©–ï –í–°–ï–ì–û)

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Gmail/Mail.ru/Yandex –∫–∞–∫ "–ø–æ—á—Ç–∞–ª—å–æ–Ω–∞" –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –≤–∞—à–∏—Ö –ø–∏—Å–µ–º.

**–ê–Ω–∞–ª–æ–≥–∏—è:**
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–∞–º–æ–º—É –∏–¥—Ç–∏ –Ω–∞ –ø–æ—á—Ç—É, –≤—ã –ø—Ä–æ—Å–∏—Ç–µ –∫—É—Ä—å–µ—Ä–∞ (Gmail) –¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. –£–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –æ—Ç –≤–∞—à–µ–π –ø–æ—á—Ç—ã
2. –í—Å—ë! –ü–∏—Å—å–º–∞ –¥–æ—Ö–æ–¥—è—Ç

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–æ 500 –ø–∏—Å–µ–º/–¥–µ–Ω—å)
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ –ù–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å–ø–∞–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –õ–∏–º–∏—Ç –ø–∏—Å–µ–º (500/–¥–µ–Ω—å –¥–ª—è Gmail)
- ‚ö†Ô∏è –ù—É–∂–µ–Ω –∞–∫–∫–∞—É–Ω—Ç –ø–æ—á—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Resend API (–£–ñ–ï –ù–ê–°–¢–†–û–ï–ù–û)

**–ß—Ç–æ —ç—Ç–æ:**
–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–ü–ª—é—Å—ã:**
- ‚úÖ –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω –ø–æ—á—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à email (demiz99@mail.ru)
- ‚ö†Ô∏è –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞ –Ω—É–∂–Ω–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–¥–Ω—è—Ç—å —Å–≤–æ–π –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (–°–õ–û–ñ–ù–û)

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Postfix/Sendmail
2. –ö—É–ø–∏—Ç—å –¥–æ–º–µ–Ω
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS (SPF, DKIM, DMARC)
4. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å reverse DNS
6. –ü—Ä–æ–≥—Ä–µ—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é IP (–º–µ—Å—è—Ü—ã!)
7. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å blacklist'—ã

**–í—Ä–µ–º—è:** –ù–µ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ + –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $10-50/–º–µ—Å—è—Ü (–¥–æ–º–µ–Ω + VPS + —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP)

**–î–ª—è –∫–æ–≥–æ:** –ö—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å —Ç—ã—Å—è—á–∞–º–∏ –ø–∏—Å–µ–º –≤ –¥–µ–Ω—å

## üéØ –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **Resend** (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ demiz99@mail.ru)
- **MailHog** (–≤—Å–µ –ø–∏—Å—å–º–∞ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ —É—Ö–æ–¥—è—Ç –Ω–∞—Ä—É–∂—É)

### –î–ª—è –º–∞–ª–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
- **Gmail SMTP** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 500 –ø–∏—Å–µ–º/–¥–µ–Ω—å)
- **Mail.ru SMTP** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Resend** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 3000 –ø–∏—Å–µ–º/–º–µ—Å—è—Ü)

### –î–ª—è –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
- **Resend** —Å –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ–º–µ–Ω–æ–º
- **SendGrid** (100 –ø–∏—Å–µ–º/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Amazon SES** (–æ—á–µ–Ω—å –¥–µ—à–µ–≤–æ)

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –≤–∞—Å

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ —á—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - Resend!**

–°–µ–π—á–∞—Å —É –≤–∞—Å:
- ‚úÖ Resend –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–∏—Å—å–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ demiz99@mail.ru
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å

**–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://resend.com/domains
2. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏
4. –í—Å—ë! –ú–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –ª—é–±—ã–µ email

**–ù–µ—Ç –¥–æ–º–µ–Ω–∞?**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gmail SMTP (5 –º–∏–Ω—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- –ò–ª–∏ Mail.ru SMTP (–≤–∞—à–∞ —Ç–µ–∫—É—â–∞—è –ø–æ—á—Ç–∞)

## üîß –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Mail.ru SMTP

1. –û—Ç–∫—Ä–æ–π—Ç–µ `docker-compose.dev.yml`
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É: `SMTP_PASSWORD: YOUR_MAILRU_PASSWORD_HERE`
3. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç demiz99@mail.ru
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker-compose -f docker-compose.dev.yml restart web`
5. –¢–µ—Å—Ç: http://localhost:8080/test_smtp

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ —Å–≤–æ—é –ø–æ—á—Ç—É Mail.ru.

## üìö –ò—Ç–æ–≥

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å SMTP?

**–û—Ç–≤–µ—Ç:** –ü–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—á—Ç–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Gmail, Outlook) –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–∏—Å—å–º–∞ –±–µ–∑ SPF/DKIM/DMARC. –ü—Ä–æ—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å (Gmail/Mail.ru) –∫–∞–∫ "–ø–æ—á—Ç–∞–ª—å–æ–Ω–∞", —á–µ–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Å—ë —ç—Ç–æ —Å–∞–º–æ–º—É.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
1. ‚úÖ **Resend** (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç) - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ demiz99@mail.ru
2. ‚úÖ **Mail.ru SMTP** (5 –º–∏–Ω—É—Ç) - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞
3. ‚úÖ **Gmail SMTP** (5 –º–∏–Ω—É—Ç) - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∞–¥—Ä–µ—Å–∞
